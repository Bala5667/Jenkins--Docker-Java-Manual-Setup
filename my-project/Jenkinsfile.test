#!/bin/bash

docker run -d --name java-web-app-test -p 8080:8080 java-web-app

echo "Waiting for app to start..."
sleep 5

response=$(curl -s -o /dev/null -w "%{http_code}" http://localhost:8080)

if [ "$response" == "200" ]; then
    echo "✅ Test Passed: Application is running successfully!"
else
    echo "❌ Test Failed: Application is NOT running! Got HTTP Status: $response"
fi

docker stop java-web-app-test
docker rm java-web-app-test
